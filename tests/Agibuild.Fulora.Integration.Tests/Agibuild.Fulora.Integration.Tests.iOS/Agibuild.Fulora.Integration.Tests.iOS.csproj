<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net10.0-ios</TargetFramework>
    <SupportedOSPlatformVersion>15.0</SupportedOSPlatformVersion>
    <Nullable>enable</Nullable>
    <!-- Suppress trim warnings from third-party assemblies (Avalonia.Diagnostics, DesignerSupport) -->
    <NoWarn>$(NoWarn);IL2104</NoWarn>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Avalonia.iOS" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Agibuild.Fulora.Integration.Tests\Agibuild.Fulora.Integration.Tests.csproj" />
    <ProjectReference Include="..\..\..\src\Agibuild.Fulora.Adapters.iOS\Agibuild.Fulora.Adapters.iOS.csproj" />
  </ItemGroup>

  <!-- NativeReference does not flow through ProjectReference; reference the xcframework directly -->
  <ItemGroup Condition="Exists('..\..\..\src\Agibuild.Fulora.Adapters.iOS\Native\AgibuildWebViewWk.iOS.xcframework')">
    <NativeReference Include="..\..\..\src\Agibuild.Fulora.Adapters.iOS\Native\AgibuildWebViewWk.iOS.xcframework">
      <Kind>Framework</Kind>
      <Frameworks>WebKit UIKit Foundation</Frameworks>
    </NativeReference>
  </ItemGroup>
</Project>
